<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MI103</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Google Fonts - Inter (moderna e clean) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Cabeçalho -->
    <header class="header">
      <div class="logo">
          <h1>MI103</h1>
      </div>
      <nav class="nav-bar">
          <ul>
              <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
              <li><a href="/space"><i class="fas fa-globe"></i> Space</a></li>
              <li><a href="/sobre"><i class="fas fa-info-circle"></i> Sobre</a></li>
          </ul>
      </nav>
      <!-- O botão de menu mobile será adicionado via JavaScript -->
    </header>

    <!-- Banner de destaque -->
    <section class="highlight-banner">
        <div class="skrim-overlay"></div>
        {% if destaque.imagem == "static/images/default.png" %}
        <!-- Se a imagem for a default, exibe o banner animado -->
        <div class="animated-banner">
            <div class="banner">
                <span class="letter m">M</span>
                <span class="letter i">I</span>
                <span class="letter 1">1</span>
                <span class="letter 0">0</span>
                <span class="letter 3">3</span>
            </div>
        </div>
        {% else %}
        <!-- Caso haja uma imagem personalizada, exibe-a normalmente -->
        <div class="noticia-banner" 
            style="background-image: url('{{ destaque.imagem }}'); 
                    background-size: cover; 
                    background-position: center;
                    width: 100%; 
                    height: 85vh; 
                    position: relative;">
        </div>
        {% endif %}
        <!-- Conteúdo complementar do destaque -->
        <div class="highlight-content">
            <h2>{{ destaque.titulo }}</h2>
            <a href="{{ destaque.link }}" target="_blank">Leia mais</a>
        </div>
    </section>

    <!-- Conteúdo principal -->
     
    <main class="main-content">
        <div class="banner-description">
            <h2>Noticias Atualizadas
              <a href="/timeline_ukraine'" class="discover-button">
                
                <span class="circle-arrow">
                  <!-- Ícone de seta diagonal (SVG) -->
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M14 4h6v6m-11 9l11-11" 
                          stroke="currentColor" 
                          fill="none" 
                          stroke-width="2" 
                          stroke-linecap="round" 
                          stroke-linejoin="round"/>
                  </svg>
                </span>
              </a>
            </h2>
          </div>

        <div class="container">
            {% for noticia in noticias %}
            <div class="noticia">
                {% if noticia.imagem %}
                <img src="{{ noticia.imagem }}" 
                  alt="Imagem da notícia"
                  onerror="
                    this.style.display='none';
                    this.insertAdjacentHTML('afterend', `
                      <div class='noticia-fallback-image'>
                        <div class='fallback-icon'>
                          <i class='fas fa-globe fa-3x'></i>
                        </div>
                      </div>
                    `);
                  ">
                {% else %}
                <!-- Fallback image when no image is provided -->
                  <div class="noticia-fallback-image">
                    <div class="fallback-icon">
                      <i class="fa-solid fa-globe"></i>
                    </div>
                  </div>
                {% endif %}
                <div class="noticia-content">
                    <h3 class="noticia-title">
                        <a href="{{ noticia.link }}" target="_blank">{{ noticia.titulo }}</a>
                    </h3>
                    <span href="{{ noticia.source }}" class="noticia-source">{{ noticia.source }}</span>
                    <span href="{{ noticia.date }}" class="noticia-date">{{ noticia.data }}</span>
                    <!-- Botão para carregar o resumo (usando o atributo data-url) -->
                    <button class="toggle-summary" data-url="{{ noticia.link }}">Resumo</button>
                    <!-- Container de loading -->
                    <div class="loading" style="display: none;">
                        <div class="loading-spinner"></div>
                    </div>
                    <!-- Container para o resumo (inicialmente oculto) -->
                    <div class="noticia-summary" style="display: none;"></div>
                    <a class="noticia-link" href="{{ noticia.link }}" target="_blank">Leia mais</a>       
                        
                </div>
            </div>
            {% endfor %}
        </div>

        <section class="updates-banner">
            <div class="banner-description">
              <h2>Guerra
                <a href="/dashboard_russ_ukraine" class="discover-button">
                  Análise dos dados do conflito Ucraniano
                  <span class="circle-arrow">
                    <!-- Ícone de seta diagonal (SVG) -->
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M14 4h6v6m-11 9l11-11" 
                            stroke="currentColor" 
                            fill="none" 
                            stroke-width="2" 
                            stroke-linecap="round" 
                            stroke-linejoin="round"/>
                    </svg>
                  </span>
                </a>
              </h2>
            </div>
            
            <div class="mission-banner">
              <!-- Máscara para melhorar a legibilidade dos textos -->
              <div class="skrim-overlay"></div>
              <!-- Slider de imagens de fundo -->
              <div class="slider">
                <div class="slides">
                  <img src="/static/images/ucrania/ukraine_war_1.jpg" alt="Slide 1">
                  <img src="/static/images/ucrania/ukraine_war_2.webp" alt="Slide 2">
                  <img src="/static/images/ucrania/ukraine_war_3.jpg" alt="Slide 3">
                  <img src="/static/images/ucrania/ukriane_war_4.webp" alt="Slide 4">
                  <img src="/static/images/ucrania/ukraine_war_5.jpg" alt="Slide 5">
                  <img src="/static/images/ucrania/ukraine_war_6.jpg" alt="Slide 6">
                </div>
                <div class="indicators">
                  <span class="indicator active" data-slide="0"></span>
                  <span class="indicator" data-slide="1"></span>
                  <span class="indicator" data-slide="2"></span>
                  <span class="indicator" data-slide="3"></span>
                  <span class="indicator" data-slide="4"></span>
                  <span class="indicator" data-slide="5"></span>
                </div>
              </div>
          
              <!-- Conteúdo sobreposto ao slider -->
              <div class="banner-container">
                <div class="title-section">
                  <h1 class="main-title">Guerra da Ucrania<br>PROGRESS</h1>
                  <p class="mission-description">
                    Desde a invasão em fevereiro de 2022, os números da guerra na Ucrânia se tornaram alarmantes. Estima-se que dezenas de milhares de pessoas tenham perdido a vida, entre civis e militares, enquanto milhões foram forçados a abandonar suas casas, configurando uma das maiores crises humanitárias recentes. No campo econômico, o conflito já acumulou custos que podem ultrapassar centenas de bilhões de dólares, refletindo a destruição de infraestrutura e o pesado investimento militar. Esses dados, embora variem conforme as fontes e sejam constantemente atualizados, evidenciam a devastação provocada pelo conflito e a urgente necessidade de esforços internacionais para a construção da paz e a reconstrução da região.
                  </p>
                </div>
                
              </div>
            </div>
          </section>

    </main>
    <div class="container_mapa">
      <h1>Mapa de Conflitos Militares Mundiais</h1>
      <div class="map-container">
          <div id="map"></div>
      </div>
      <div class="legend">
          <div class="legend-item">
              <div class="severity-high"></div>
              <span>Conflito de Alta Intensidade</span>
          </div>
          <div class="legend-item">
              <div class="severity-medium"></div>
              <span>Conflito de Média Intensidade</span>
          </div>
          <div class="legend-item">
              <div class="severity-low"></div>
              <span>Tensão Militar ou Conflito de Baixa Intensidade</span>
          </div>
      </div>
      <div class="info-container" id="conflict-info">
          <h3>Selecione um conflito no mapa para ver mais informações</h3>
          <p>O mapa mostra os principais conflitos militares ativos no mundo até outubro de 2024.</p>
      </div>
      <p class="disclaimer">Nota: Dados baseados em informações disponíveis até outubro de 2024. A situação pode ter mudado desde então.</p>
  </div>
  <script src="{{ url_for('static', filename='js/noticias.js') }}"></script>
    <!-- Rodapé -->
    <footer class="footer">
        <p>&copy; 2025 Portal de Notícias. Todos os direitos reservados.</p>
    </footer>
</body>
</html>
